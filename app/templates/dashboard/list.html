{% extends "layout/base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}

<h2 style="margin-bottom:25px;">ðŸ“Š Admin Dashboard</h2>

<!-- KPI CARDS -->
<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:40px;">

    <div style="background:#e0f2fe;padding:20px;border-radius:8px;">
        <h4>Total Products</h4>
        <div style="font-size:30px;font-weight:bold;">{{ total_products }}</div>
    </div>

    <div style="background:#ecfeff;padding:20px;border-radius:8px;">
        <h4>Total Stock</h4>
        <div style="font-size:30px;font-weight:bold;">{{ total_stock }}</div>
    </div>

    <div style="background:#fef9c3;padding:20px;border-radius:8px;">
        <h4>Total Sales</h4>
        <div style="font-size:30px;font-weight:bold;">{{ total_sales }}</div>
    </div>

    <div style="background:#dcfce7;padding:20px;border-radius:8px;">
        <h4>Total Revenue</h4>
        <div style="font-size:30px;font-weight:bold;">â‚¹ {{ total_revenue }}</div>
    </div>

</div>

<h3 style="margin-bottom:10px;">ðŸ”¥ Top Selling Products</h3>

<table style="width:100%;border-collapse:collapse;background:white;margin-bottom:40px;">
    <thead style="background:#1f2937;color:white;">
        <tr>
            <th style="padding:10px;">Rank</th>
            <th style="padding:10px;">Product</th>
            <th style="padding:10px;">Quantity Sold</th>
        </tr>
    </thead>
    <tbody>
        {% for p in top_products %}
        <tr style="text-align:center;">
            <td style="padding:10px;border-bottom:1px solid #eee;">{{ loop.index }}</td>
            <td style="padding:10px;border-bottom:1px solid #eee;">{{ p.name }}</td>
            <td style="padding:10px;border-bottom:1px solid #eee;">{{ p.quantity_sold }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>


{% endblock %}
